@import "global"
@import "syntax-highlighting"
@import "autolink-patch"

body
  background-color: var(--color-bg)

#blog-post-content
  > *
    max-width: var(--metric-center-width)
    @include h-centering

  > blockquote, >table, .gatsby-highlight, .gatsby-resp-image-figure
    max-width: var(--metric-stretchout-width)

  > p
    line-height: 1.5

  ol > li,
  ul > li
    @include inner-block

  blockquote
    background-color: var(--color-bg-dark)
    border-radius: var(--metric-box-radius)
    padding: 0.001em var(--metric-unit-spacing)

  a:not(.anchor ):not(.gatsby-resp-image-link)
    color: inherit
    padding-bottom: 1px
    border-bottom: var(--color-alternative-dark) 2px solid

    &:hover
      border-bottom-color: var(--color-alternative-light)

  table
    --table-rule: 1px solid var(--color-base)
    --table-v-padding: 0.5em
    border-collapse: collapse
    width: var(--metric-center-width)
    max-width: var(--metric-stretchout-width)
    > thead
      > tr
        > th
          border:
            top: var(--table-rule)
          padding: .4em var(--table-v-padding)
    > tbody
      td
        padding: .4em var(--table-v-padding)
      > tr:first-child
        > td
          padding-top: calc(2 * var(--table-v-padding))
          border-top: var(--table-rule)
      > tr:last-child
        > td
          padding-bottom: calc(2 * var(--table-v-padding))
          border-bottom: var(--table-rule)
    margin:
      left: auto
      right: auto

.katex-display
  max-width: 100%
  overflow-x: auto
  overflow-y: hidden

  // When we set `overflow-x: auto`, a vertical scrollbar will appear on some formulas for unknown reasons
  // This is a bruteforce approach to prevent this scrollbar in most cases
  padding: 0.3em 0

.gatsby-resp-image-figcaption
  color: var(--color-secondary)
  font-size: var(--fontsize-sub)
  text-align: center
  padding-top: 5px

.post-toc-item
  line-height: 1.8
  font-size: var(--fontsize-secondary)
  transition: 0.2s transform

  &:hover
    cursor: pointer
    transform: translateX(4px)

.post-toc-item-h2
  font-weight: var(--fontweight-emph)
  color: var(--color-base)

.post-toc-item-h3
  text-indent: 0.5em
  font-weight: var(--fontweight-emph)
  color: var(--color-secondary)

.post-toc-item-h4
  text-indent: 1em
  color: var(--color-secondary)

@media only screen and (max-width: 1400px)
  #blog-post-toc-container
    display: none

@media only screen and (min-width: 1400px)
  #blog-post-main
    text-align: justify