{"componentChunkName":"component---src-templates-blog-post-tsx","path":"/posts/2019-08-08-pitfall/","result":{"data":{"markdownRemark":{"html":"<p>前些日子看到 Github pages 的一些介绍（虽然之前就知道了），再加上想复习一下 CSS，于是便<del>脑子一热</del>萌发了使用 Github pages 搭建 blog 的想法，写了几天代码<del>CSS</del>，算是把基本功能都完成了。这里总结一些搭建过程中遇到的问题。 </p>\n<h2 id=\"jekyll\" style=\"position:relative;\"><a href=\"#jekyll\" aria-label=\"jekyll permalink\" class=\"anchor before\"><span>#</span></a>Jekyll</h2>\n<p><a href=\"https://jekyllrb.com\">Jekyll</a>用于将 html 模板（使用 Liquid 模板引擎）和 markdown（使用 kramdowm 方言）解析成浏览器能够直接显示的 html 文件，是一个用 ruby 编写的博客生成工具，被 Github pages 原生地支持。在使用 gem 安装之后，使用 <code class=\"language-text\">jekyll build</code> 能够完成一次当前目录的构建，使用 <code class=\"language-text\">jekyll serve</code> 能够使 jekyll 在检测到文件更新时自动重新构建，并且在 <code class=\"language-text\">localhost:4000</code> 运行一个本地 HTTP 服务器，便于调试。</p>\n<p>Jekyll 由于使用 ruby 编写，配置文件一般通过 yaml 文件提供，并且在需要当成模板渲染地文件开头书写 yaml 文件头。</p>\n<p>Jekyll 的官方文档很友好，搜索功能也比较高效，有国人维护的一个中文翻译网站，不过遗憾的是中文翻译网站不支持搜索功能。</p>\n<h2 id=\"math\" style=\"position:relative;\"><a href=\"#math\" aria-label=\"math permalink\" class=\"anchor before\"><span>#</span></a>Math</h2>\n<p>平时我都是用 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding=\"application/x-tex\">\\LaTeX</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.89883em;vertical-align:-0.2155em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">L</span><span class=\"mspace\" style=\"margin-right:-0.36em;\"></span><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.68333em;\"><span style=\"top:-2.904999em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"mord\"><span class=\"mord textrm mtight sizing reset-size6 size3\">A</span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.15em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">T</span><span class=\"mspace\" style=\"margin-right:-0.1667em;\"></span><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.46782999999999997em;\"><span style=\"top:-2.7845em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord textrm\">E</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2155em;\"><span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.125em;\"></span><span class=\"mord textrm\">X</span></span></span></span></span></span> 进行数学相关的文字编辑 / 排版工作，好在目前已经有现成的轮子可以用来在 html 中渲染数学公式了。其中比较成熟的工具包括 mathjax 和 katex。这两个均以 js 库的形式导入到 html 中，具体的调用方法略有差异。</p>\n<p>katex 的调用方法有点复杂，它暴露的主要接口是一个将给定给定字符串渲染成公式然后塞到 dom 元素里面的函数，官方提供了一个可以直接渲染整个文档的扩展，但是由于不明原因没有效果，也没有报错。日后再研究一下吧。</p>\n<p>mathjax 的渲染速度和代码体积都要落后于 katex，但是它可以直接渲染整个文档。默认行内和行间公式的定界符分别是 <code class=\"language-text\">\\( \\)</code> 和 <code class=\"language-text\">\\[ \\]</code>，这和我平时写 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding=\"application/x-tex\">\\LaTeX</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.89883em;vertical-align:-0.2155em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">L</span><span class=\"mspace\" style=\"margin-right:-0.36em;\"></span><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.68333em;\"><span style=\"top:-2.904999em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"mord\"><span class=\"mord textrm mtight sizing reset-size6 size3\">A</span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.15em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">T</span><span class=\"mspace\" style=\"margin-right:-0.1667em;\"></span><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.46782999999999997em;\"><span style=\"top:-2.7845em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord textrm\">E</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2155em;\"><span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.125em;\"></span><span class=\"mord textrm\">X</span></span></span></span></span></span> 的习惯不太一致，好在这个可以自行配置，具体的配置代码大致如下</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/x-mathjax-config<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n        MathJax<span class=\"token punctuation\">.</span>Hub<span class=\"token punctuation\">.</span><span class=\"token function\">Config</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n          tex2jax<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>inlineMath<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span><span class=\"token string\">'$'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'$'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>使用 mathjax 的时候遇到了若干个坑：</p>\n<h3 id=\"mathjax-的-js-文件的配置问题\" style=\"position:relative;\"><a href=\"#mathjax-%E7%9A%84-js-%E6%96%87%E4%BB%B6%E7%9A%84%E9%85%8D%E7%BD%AE%E9%97%AE%E9%A2%98\" aria-label=\"mathjax 的 js 文件的配置问题 permalink\" class=\"anchor before\"><span>#</span></a>mathjax 的 js 文件的配置问题</h3>\n<p>我本来照看官网上的 Quick Start 引用了下述 js 文件</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">'</span>https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML<span class=\"token punctuation\">'</span></span> <span class=\"token attr-name\">async</span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>然而这个渲染出来的公式再布局上有比较严重的问题，例如行内分式的分子分母部分重叠，下标字号过大等等。经过仔细研究<del>看隔壁的源码</del>，发现应该引用下述文件</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-html line-numbers\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">async</span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span></span></pre></div>\n<p>在更换之后，排版质量显著改善。</p>\n<h3 id=\"行间公式的空行问题\" style=\"position:relative;\"><a href=\"#%E8%A1%8C%E9%97%B4%E5%85%AC%E5%BC%8F%E7%9A%84%E7%A9%BA%E8%A1%8C%E9%97%AE%E9%A2%98\" aria-label=\"行间公式的空行问题 permalink\" class=\"anchor before\"><span>#</span></a>行间公式的空行问题</h3>\n<p>在 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>LaTeX</mtext></mrow><annotation encoding=\"application/x-tex\">\\LaTeX</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.89883em;vertical-align:-0.2155em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">L</span><span class=\"mspace\" style=\"margin-right:-0.36em;\"></span><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.68333em;\"><span style=\"top:-2.904999em;\"><span class=\"pstrut\" style=\"height:2.7em;\"></span><span class=\"mord\"><span class=\"mord textrm mtight sizing reset-size6 size3\">A</span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.15em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">T</span><span class=\"mspace\" style=\"margin-right:-0.1667em;\"></span><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.46782999999999997em;\"><span style=\"top:-2.7845em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord textrm\">E</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2155em;\"><span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.125em;\"></span><span class=\"mord textrm\">X</span></span></span></span></span></span> 中，只要使用 <code class=\"language-text\">\\[ \\]</code> 开启行间公式时，它会自动新启一行排版公式（废话）。但是在写 markdown 时这一点会出现一些问题。mathjax 会寻找块级元素，当检测到包含行间公式的开头/结尾字段时将其当作行间公式渲染。但是如果在 markdown 里面不换行的话，\nkramdown 将 markdown 转换为 html 文件时会把你输入的行间公式当成一个行内元素（因为 markdown 会忽略非空行的换行），所以这样无法正常渲染行间公式（似乎只限于 kramdown，用一些内置 <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mtext>TeX</mtext></mrow><annotation encoding=\"application/x-tex\">\\TeX</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.89883em;vertical-align:-0.2155em;\"></span><span class=\"mord text\"><span class=\"mord textrm\">T</span><span class=\"mspace\" style=\"margin-right:-0.1667em;\"></span><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.46782999999999997em;\"><span style=\"top:-2.7845em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord textrm\">E</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.2155em;\"><span></span></span></span></span><span class=\"mspace\" style=\"margin-right:-0.125em;\"></span><span class=\"mord textrm\">X</span></span></span></span></span> 支持的 markdown 编辑器不会出现这个问题）。要想让它正常渲染，必须在行间公式的上下空行，使得它被翻译为 html 的 <code class=\"language-text\">&lt;p&gt;</code> 标签。</p>\n<h3 id=\"反斜杠的转义问题\" style=\"position:relative;\"><a href=\"#%E5%8F%8D%E6%96%9C%E6%9D%A0%E7%9A%84%E8%BD%AC%E4%B9%89%E9%97%AE%E9%A2%98\" aria-label=\"反斜杠的转义问题 permalink\" class=\"anchor before\"><span>#</span></a>反斜杠的转义问题</h3>\n<p>这是一个奇妙的问题。在 markdown 中反斜杠会被转义，准确来说，当一个反斜杠后面接着一个标点符号时，这个反斜杠会被当作转义符号，它本身会被忽略，而它后面接的标点符号不会被当作 markdown 的特殊字符。</p>\n<p>但是这个规则也有一些奇妙的例外，例如，在代码模式下（即被反引号包裹的东西里面）这个转义会被忽略，也就是说反斜杠不会被当作转义字符而被隐藏（顺便一提，这一点使得在行内的公式里面打出反引号并不容易）。此外，<strong>行间</strong>公式环境下这种转义也会出现。</p>\n<p>但是最坑的是这件事情在行内公式中不会出现（也只限于 kramdown），也就是说，行内公式中的反斜杠仍被当作转义字符，这种不一致性让人非常不爽。\n例如，在行内若想输出一对花括号，你需要写 <code class=\"language-text\">${}$</code>，但是在行间的话你需要写的是 <code class=\"language-text\">$$\\{\\}$$</code>（不要忘了上下空行）。</p>\n<h2 id=\"code\" style=\"position:relative;\"><a href=\"#code\" aria-label=\"code permalink\" class=\"anchor before\"><span>#</span></a>Code</h2>\n<p>Jekyll 内置了 <a href=\"http://rouge.jneen.net/\">Rouge</a> 的语法高亮功能，可以将 markdown 中的行间代码进行语法高亮，但是值得注意的是它只负责将 markdown 转换为 html 然后把代码中不同的 token 赋予不同的 class，具体的着色方案需要额外提供 css 文件完成。</p>\n<p>好在已经有人制作了这样的 css 供我们直接使用，例如这个 <a href=\"https://github.com/jwarby/jekyll-pygments-themes\">repo</a>。但是是这里面的 css 文件里面有的不仅提供了 <code class=\"language-text\">color</code> 这个 css 属性，而且还提供了 <code class=\"language-text\">background-color</code> 这个属性，也就是说它可能会改变部分文字（比如说字符串）的背景颜色，这不一定总是我们想要的，可能需要手动删除，或者自己覆盖 <code class=\"language-text\">background-color</code> 属性。</p>\n<h2 id=\"domain\" style=\"position:relative;\"><a href=\"#domain\" aria-label=\"domain permalink\" class=\"anchor before\"><span>#</span></a>Domain</h2>\n<p>虽然 Github pages 默认给出的 <code class=\"language-text\">sharzyl.github.io</code> 域名还算不错，但是考虑到它还提供了自定义域名服务，所以我还是希望有一个自己的域名。在域名商处购买一个域名之后，添加两条 dns 记录</p>\n<table>\n<thead>\n<tr>\n<th align=\"center\">类型</th>\n<th align=\"center\">名称</th>\n<th align=\"center\">值</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">A</td>\n<td align=\"center\">@</td>\n<td align=\"center\">185.199.108.153</td>\n</tr>\n<tr>\n<td align=\"center\">A</td>\n<td align=\"center\">@</td>\n<td align=\"center\">185.199.109.153</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p>注：似乎只添加一条 dns 记录也可以。此外这里演示的是使用裸域名的情形，如果要使用子域名，应该配置 CNAME 类型*</p>\n</blockquote>\n<p>然后在 Github repo 的 Settings 界面的 Custom domain 项里面填写自己的域名。完成之后，在浏览器上填写自定义的域名，应该就能跳转到 Github pages 里面了。</p>\n<p>注意到这时候使用的是 http 协议，Github pages 良心之处在于它可以免费地自动为你的域名签发 ssl 证书，然后网站就可以使用 https 连接了。具体来说，需要在 Settings 界面勾选 Enforce HTTPS。</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 725px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/34fb4e549558f7882238981f93177741/a0209/github-https.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 12.444444444444443%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAACCAYAAABYBvyLAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAXElEQVQI11WN2w6AIAxD+f/vRDQBhlGUTRIqtwdd0p01TToVY4TWC4xZYa2DyIOUuIu5kgeZZd7yy5vPOaNNKQWqLU8E56kyIIS9s4k+dHRgoxvnNR+lUcbyL3wB0xiam8LyQmcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Github 启用 HTTPS 的选项\"\n        title=\"Github 启用 HTTPS 的选项\"\n        src=\"/static/34fb4e549558f7882238981f93177741/a0209/github-https.png\"\n        srcset=\"/static/34fb4e549558f7882238981f93177741/3684f/github-https.png 225w,\n/static/34fb4e549558f7882238981f93177741/fc2a6/github-https.png 450w,\n/static/34fb4e549558f7882238981f93177741/a0209/github-https.png 725w\"\n        sizes=\"(max-width: 725px) 100vw, 725px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Github 启用 HTTPS 的选项</figcaption>\n  </figure></p>\n<p>不过这个勾选项并不是马上就可以勾选的，需要等待 Github 签发 ssl 证书，一般需要等一两天，如果一两天之后仍然无法勾选，可以考虑把 Custom Domain 项删除然后重新填写。</p>\n<h2 id=\"markdown\" style=\"position:relative;\"><a href=\"#markdown\" aria-label=\"markdown permalink\" class=\"anchor before\"><span>#</span></a>Markdown</h2>\n<p>markdown 的语法长期以来很不统一，存在各种各样的“方言”，Jekyll 所使用的 kramdown 就是其中之一，这个方言和我再用 vscode 写作时预览用的方言有一些不统一之处，这给我带来了一些麻烦。</p>\n<p>kramdown 的一个和其它的方言不太一致的地方在于它（像 python 一样）把缩进用来划分语法层级。也就是说，缩进比较深的段落在生成的 html 里面会被当作缩进比较浅的段落的子元素。</p>\n<p>这个设定还是很符合逻辑的，但是如果用户不了解这一点的话，可能会造成一些麻烦，这个麻烦在有序列表中体现地尤为明显。</p>\n<p>问题主要发生在用户试图在有序列表的一项中插入一个块级元素（例如代码块，行间公式）的时候，如果不了解 kramdown 的缩进法则的话，用户可能认为只需要新启一行就可以了。例如</p>\n<div class=\"gatsby-highlight\" data-language=\"markdown\"><pre style=\"counter-reset: linenumber NaN\" class=\"language-markdown line-numbers\"><code class=\"language-markdown\"><span class=\"token list punctuation\">1.</span> nsert some formula\n\n$$ a + b = b + a $$\n\n<span class=\"token list punctuation\">2.</span> one more item</code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<p>然而不幸的是这样无法正常显示有序列表的序号，它的输出结果如下：</p>\n<blockquote>\n<ol>\n<li>insert some formula</li>\n</ol>\n<p><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo>+</mo><mi>b</mi><mo>=</mo><mi>b</mi><mo>+</mo><mi>a</mi></mrow><annotation encoding=\"application/x-tex\">a + b = b + a</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.66666em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.69444em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.77777em;vertical-align:-0.08333em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">a</span></span></span></span></p>\n<ol start=\"2\">\n<li>one more item</li>\n</ol>\n</blockquote>\n<p>注意到有序列表的标号在第二项上被重置了，出现这个的原因在于 kramdown 会把缩进层级相同的元素当作同级元素看待，所以中间的行间公式会被它看作一个和有序列表同级的块级元素（类似段落），因此这个有序列表被这个块级元素中断了. 解决这个问题的方法很简单，把中间的公式缩进就可以了。(<em>这里也顺带解释了上文中提到的数学公式空行问题</em>)</p>","frontmatter":{"title":"关于博客搭建过程的一些总结和吐槽","subtitle":null},"fields":{"date":"2019-08-08T00:00:00.000Z"},"headings":[{"depth":2,"value":"Jekyll"},{"depth":2,"value":"Math"},{"depth":3,"value":"mathjax 的 js 文件的配置问题"},{"depth":3,"value":"行间公式的空行问题"},{"depth":3,"value":"反斜杠的转义问题"},{"depth":2,"value":"Code"},{"depth":2,"value":"Domain"},{"depth":2,"value":"Markdown"}],"excerpt":"前些日子看到 Github pages 的一些介绍（虽然之前就知道了），再加上想复习一下 CSS，于是便脑子一热萌发了使用 Github pages 搭建 blog 的想法，写了几天代码CSS，算是把基本功能都完成了。这里总结一些搭建过程中遇到的问题。  Jekyll Jeky…"}},"pageContext":{"slug":"/posts/2019-08-08-pitfall/"}},"staticQueryHashes":["63159454"]}